!function(){"use strict";var e={profileEditorPopup:document.querySelector(".popup_edit"),openProfilePopupButton:document.querySelector(".profile__edit-button"),clickOnTheFormButton:document.querySelector(".popup_edit").querySelector(".form"),formEditProfile:document.querySelector(".form"),nameInput:document.querySelector(".form__input_type_name"),jobInput:document.querySelector(".form__input_type_job"),titleProfile:document.querySelector(".profile__title"),textProfile:document.querySelector(".profile__text"),templateElement:document.querySelector(".element-template").content,insertElementAfter:document.querySelector(".element"),newPlacePopup:document.querySelector(".popup_add-photo"),formAddFoto:document.querySelector(".popup_add-photo").querySelector(".form"),formProfileEdit:document.querySelector(".popup_edit").querySelector(".form"),avatarEditingButton:document.querySelector(".profile__image-button"),placeNameInput:document.querySelector(".form__input_type_title"),linkInput:document.querySelector(".form__input_type_link"),addPlaceButton:document.querySelector(".profile__add-button"),closepopupAdd:document.querySelector(".popup_add-photo").querySelector(".popup__close-button"),formSaveButton:document.querySelector(".popup_add-photo").querySelector(".form").querySelector(".form__save-button"),likeTemplateButton:document.querySelector(".element-template"),likebutton:document.querySelector(".element__like-button"),previewImagePopup:document.querySelector(".popup-open-photo"),previewImagePopupPicture:document.querySelector(".popup-open-photo__image"),previewImagePopupCaption:document.querySelector(".popup-open-photo__caption")},t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__save-button",inactiveButtonClass:"form__save-button_disable",inputErrorClass:"form__input_type_error",errorClass:"popup__error_visible",errorEmptyInputMessage:"Вы пропустили это поле.",errorEmptyUrlMessage:"Введите адрес сайта.",inputUrlClass:"form__input_type_link"},n=(document.querySelector(".popup_edit"),document.querySelector(".popup_add-photo"),document.querySelector(".popup_type_confirm-delete")),r=document.querySelector(".popup_type_update-avatar");function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n,r,o){var i=t.name,a=t.link,u=t.owner,c=t._id,s=t.likes,l=n.openPreviewImage,f=n.handleCardDislike,p=n.handleCardLike,h=n.handleDeleteCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=i,this._image=a,this._userId=o,this._owner=u._id,this._template=document.querySelector(r),this._likeButton=".element__like-button",this._imageElement=".element__image",this._cardDelete=".element__delete-button",this._cardTitle=".element__group-title",this.likes=s,this._handleCardLike=p,this._handleCardDislike=f,this._element=this._getTempalte(),this._idElement=c,this._openPreviewImage=l,this._openPopupConfirmDelete=h,this._cardElement=this._element.querySelector(this._imageElement),this._cardLikeElement=this._element.querySelector(this._likeButton)}var t,n;return t=e,(n=[{key:"_getTempalte",value:function(){return this._template.content.children[0].cloneNode(!0)}},{key:"_setCardListeners",value:function(){var e=this;this._cardElement.addEventListener("click",(function(){return e._openPreviewImage(e._name,e._image)})),this._cardLikeElement.addEventListener("click",(function(){e._element.querySelector(e._likeButton).classList.contains("element__like-button_active")?e._removelike():e._addlike()})),this._element.querySelector(this._cardDelete).addEventListener("click",(function(){return e._deleteCard()}))}},{key:"generateCard",value:function(){var e=this;return this._setCardListeners(),this.updateLikesCounter(),this._cardElement.src=this._image,this._cardElement.alt=this._name,this._element.querySelector(this._cardTitle).textContent=this._name,this._userId!==this._owner&&this._element.querySelector(this._cardDelete).classList.add("element__delete-button_invisible"),this.likes.forEach((function(t){t._id!==e._userId||e._element.querySelector(e._likeButton).classList.toggle("element__like-button_active")})),this._element}},{key:"updateLikesCounter",value:function(){this._element.querySelector(".element__like-counter").textContent=this.likes.length}},{key:"_addlike",value:function(){this._handleCardLike(this._idElement),this._element.querySelector(this._likeButton).classList.toggle("element__like-button_active")}},{key:"_removelike",value:function(){this._handleCardDislike(this._idElement),this._element.querySelector(this._likeButton).classList.toggle("element__like-button_active")}},{key:"_deleteCard",value:function(){this._openPopupConfirmDelete(this._idElement,this._element)}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector)),this._buttonElement=this._form.querySelector(t.submitButtonSelector),this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass,this._inputErrorClass=t.inputErrorClass,this._errorEmptyInputMessage=t.errorEmptyInputMessage,this._errorEmptyUrlMessage=t.errorEmptyUrlMessage,this._inputUrlClass=t.inputUrlClass}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));this._setDefaultError(e),e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass)}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._toggleButtonState(),e._isValid(t)}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"clearValidationInput",value:function(){var e=this;this._inputList.forEach((function(t){return e._hideInputError(t)})),this._toggleButtonState()}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.setAttribute("disabled",!0),this._buttonElement.classList.add(this._inactiveButtonClass)):(this._buttonElement.removeAttribute("disabled"),this._buttonElement.classList.remove(this._inactiveButtonClass))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_setDefaultError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.contains(this._inputUrlClass)?t.textContent=this._errorEmptyUrlMessage:!e.value.length<=0?t.textContent=e.validationMessage:t.textContent=this._errorEmptyInputMessage}}])&&a(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderer",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e,t){this._container[t](e)}}])&&c(t.prototype,n),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_closePopupPressEsc")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=t,this._buttonStatus=this._popup.querySelector(".form__save-button")}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._closePopupPressEsc)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._closePopupPressEsc)}},{key:"changeButtonStatus",value:function(e){this._buttonStatus&&(this._buttonStatus.textContent=e?this._loadingLabelTrue:this._loadingLabelFalse)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){t.target.classList.contains("popup_opened")&&e.close(),t.target.classList.contains("popup__close-button")&&e.close()}))}}])&&l(t.prototype,n),e}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._photo=t._popup.querySelector(".popup-open-photo__image"),t._title=t._popup.querySelector(".popup-open-photo__caption"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;this._photo.src=n,this._photo.alt=t,this._title.textContent=t,d(m(a.prototype),"open",this).call(this)}}])&&h(t.prototype,n),a}(f);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(e,t){var n,r=t.handlerSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),C(w(n=i.call(this,e)),"_loadingLabelTrue","Сохранение..."),C(w(n),"_loadingLabelFalse","Сохранить"),n._submitForm=r,n._form=n._popup.querySelector(".form"),n._inputs=n._form.querySelectorAll(".form__input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._values={},this._inputs.forEach((function(t){return e._values[t.name]=t.value})),this._values}},{key:"setEventListeners",value:function(){var e=this;k(P(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submitForm(e._getInputValues())}))}},{key:"close",value:function(){k(P(a.prototype),"close",this).call(this),this._form.reset()}}])&&g(t.prototype,n),a}(f);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._about=n,this._avatar=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent,id:this._id,avatar:this._avatar}}},{key:"setUserInfo",value:function(e,t,n){e&&(this._name.textContent=e),t&&(this._about.textContent=t),n&&(this._id=n)}},{key:"setUserAvatar",value:function(e){e&&(this._avatar.src=e)}},{key:"getUserId",value:function(){return this._id}}])&&O(t.prototype,n),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){var n=t.address,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._address=n,this._headers=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return fetch("".concat(this._address,"/users/me"),{headers:this._headers}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._address,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"editUserData",value:function(e,t){return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:"addCard",value:function(e,t){return fetch("".concat(this._address,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}},{key:"cardDelete",value:function(e){return fetch("".concat(this._address,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"setLike",value:function(e){return fetch("".concat(this._address,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"removeLike",value:function(e){return fetch("".concat(this._address,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._address,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка ".concat(e.status))}}])&&I(t.prototype,n),e}();function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e,t){var n,r=t.submitHandler;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),V(A(n=i.call(this,e)),"_loadingLabelTrue","Удаление..."),V(A(n),"_loadingLabelFalse","Да"),n._submitHandler=r,n}return t=a,(n=[{key:"open",value:function(e,t){T(x(a.prototype),"open",this).call(this),this._cardId=e,this.cardElement=t}},{key:"setEventListeners",value:function(){var e=this;T(x(a.prototype),"setEventListeners",this).call(this),this._popup.addEventListener("submit",(function(t){t.preventDefault(),e._submitHandler(e._cardId)}))}}])&&R(t.prototype,n),a}(f);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=new u(t,e.formProfileEdit);H.enableValidation();var N=new u(t,e.formAddFoto);N.enableValidation();var J=new u(t,r);J.enableValidation();var z=new q(document.querySelector(".profile__title"),document.querySelector(".profile__text"),document.querySelector(".profile__avatar")),$=new v(e.previewImagePopup),G=new L(e.profileEditorPopup,{handlerSubmit:function(e){G.changeButtonStatus(!0),Z.editUserData(e.name,e.job).then((function(e){z.setUserInfo(e.name,e.about),G.close()})).catch((function(e){console.log(e)})).finally((function(){G.changeButtonStatus(!1)}))}}),K=new L(e.newPlacePopup,{handlerSubmit:function(e){K.changeButtonStatus(!0),Z.addCard(e.title,e.link).then((function(e){var t=Y(e);X.addItem(t,"prepend"),K.close()})).catch((function(e){console.log(e)})).finally((function(){K.changeButtonStatus(!1)}))}}),Q=new L(r,{handlerSubmit:function(e){var t=e.link;Q.changeButtonStatus(!0),Z.updateAvatar(t).then((function(e){var t=e.avatar;z.setUserAvatar(t),Q.close()})).catch((function(e){console.log(e)})).finally((function(){Q.changeButtonStatus(!1)}))}}),W=new M(n,{submitHandler:function(e){W.changeButtonStatus(!0),Z.cardDelete(e).then((function(e){W.cardElement.remove(),W.close()})).catch((function(e){console.log(e)})).finally((function(){W.changeButtonStatus(!1)}))}}),X=new s({renderer:function(e){var t=Y(e);X.addItem(t,"append")}},".element");function Y(e){var t=z.getUserId(),n=new i(e,{openPreviewImage:function(e,t){$.open({name:e,link:t})},handleDeleteCard:function(e,t){W.open(e,t)},handleCardLike:function(e){Z.setLike(e).then((function(e){var t=e.likes;n.likes=t,n.updateLikesCounter()})).catch((function(e){console.log(e)}))},handleCardDislike:function(e){Z.removeLike(e).then((function(e){var t=e.likes;n.likes=t,n.updateLikesCounter()})).catch((function(e){console.log(e)}))}},".element-template",t);return n.generateCard()}var Z=new j({address:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"d7ba4792-c046-407e-bd03-0f3f72508d52","Content-Type":"application/json"}});Promise.all([Z.getUserInfo(),Z.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];z.setUserInfo(o.name,o.about,o._id),z.setUserAvatar(o.avatar),X.renderer(i)})).catch((function(e){return console.log(e)})),e.openProfilePopupButton.addEventListener("click",(function(){var t=z.getUserInfo();e.nameInput.value=t.name,e.jobInput.value=t.about,H.clearValidationInput(),G.open()})),e.addPlaceButton.addEventListener("click",(function(){N.clearValidationInput(),K.open()})),e.avatarEditingButton.addEventListener("click",(function(){J.clearValidationInput(),Q.open()})),G.setEventListeners(),K.setEventListeners(),$.setEventListeners(),W.setEventListeners(),Q.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YW5kZXhfcHJha3Rpa3VtLy4vc3JjL3V0aWxzL3VpLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJha3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFrdGlrdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1EZWxldGUuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWt0aWt1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyB1aSwgdmFsaWRhdGVPYmplY3QsIHByb2ZpbGVFZGl0b3JQb3B1cCwgbmV3UGxhY2VQb3B1cCwgY29uZmlybURlbGV0ZVBvcHVwLCB1cGRhdGVBdmF0YXIgfTtcblxuY29uc3QgdWkgPSB7XG4gIHByb2ZpbGVFZGl0b3JQb3B1cCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0JyksIC8v0YHQvtGF0YDQsNC90LjQuyDQv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YAg0L/RgNC+0YTQuNC70Y8g0LIg0L/QtdGA0LXQvNC10L3QvdGD0Y5cbiAgb3BlblByb2ZpbGVQb3B1cEJ1dHRvbiA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpLCAvL9GB0L7RhdGA0LDQvdGP0LXQvCAg0LrQvdC+0L/QutGDINGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINCyINC/0LXRgNC10LzQtdC90L3Rg9GOLlxuICAvLyBjbG9zZVBvcHVwQnV0dG9ucyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fY2xvc2UtYnV0dG9uJyksIC8v0YHQvtGF0YDQsNC90Y/QtdC8ICDQutC90L7Qv9C60YMg0LfQsNC60YDRi9GC0Ywg0LIg0L/QtdGA0LXQvNC10L3QvdGD0Y4uXG4gIGNsaWNrT25UaGVGb3JtQnV0dG9uIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2VkaXQnKS5xdWVyeVNlbGVjdG9yKCcuZm9ybScpLCAvL9GB0L7RhdGA0LDQvdGP0LXQvCAg0YTQvtGA0LzRgyDRh9GC0L7QsdGLINC/0YDQuCDQutC70LjQutC1INC90LAg0YTQvtGA0LzRgyDQv9C+0L8t0LDQvyDQvdC1INC40YHRh9C10LfQsNC7XG4gIGZvcm1FZGl0UHJvZmlsZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyksIC8vINGB0L7RhdGA0LDQvdGP0LXQvCDRhNC+0YDQvNGDINC/0YDQvtGE0LjQu9GPXG4gIG5hbWVJbnB1dCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX25hbWUnKSwgLy/QndCw0YXQvtC00LjQvCDQv9C+0LvRjyDRhNC+0YDQvNGLINCyIERPTVxuICBqb2JJbnB1dCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX2pvYicpLCAvL9Cd0LDRhdC+0LTQuNC8INC/0L7Qu9GPINGE0L7RgNC80Ysg0LIgRE9NXG4gIHRpdGxlUHJvZmlsZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpLCAvL9GB0L7RhdGA0LDQvdGP0LXQvCDQt9Cw0LPQvtC70L7QstC+0Log0L/RgNC+0YTQuNC70Y8gdGl0bGVcbiAgdGV4dFByb2ZpbGUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGV4dCcpLCAvL9GB0L7RhdGA0LDQvdGP0LXQvCDRgtC10LrRgdGCINC/0YDQvtGE0LjQu9GPXG4gIHRlbXBsYXRlRWxlbWVudCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50LXRlbXBsYXRlJykuY29udGVudCwgLy/QvdCw0YXQvtC00LjQvCDRgdC+0LTQtdGA0LbQuNC80L7QtSDRgtC10LzQv9C70LXQudGCXG4gIGluc2VydEVsZW1lbnRBZnRlciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JyksIC8vINC/0L7RgdC70LUg0YfQtdCz0L4g0LTQvtCx0LDQstC70Y/QtdC8INC60LDRgNGC0L7Rh9C60LhcbiAgbmV3UGxhY2VQb3B1cCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hZGQtcGhvdG8nKSwgLy/RgdC+0YXRgNCw0L3QuNC7INC/0L7Qv9Cw0L8gQWRkLXBob3RvINCyINC/0LXRgNC10LzQtdC90L3Rg9GOIHBvcHVwXG4gIGZvcm1BZGRGb3RvIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZC1waG90bycpLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyksIC8vINGB0L7RhdGA0LDQvdGP0LXQvCDRhNC+0YDQvNGDINC00L7QsdCw0LLQu9C10L3QuNGPINGE0L7RgtC+XG4gIGZvcm1Qcm9maWxlRWRpdCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9lZGl0JykucXVlcnlTZWxlY3RvcignLmZvcm0nKSwgLy8g0YHQvtGF0YDQsNC90Y/QtdC8INGE0L7RgNC80YMg0YDQtdC00LDQutGC0LjRgCDQv9GA0L7RhNC40LvRj1xuICBhdmF0YXJFZGl0aW5nQnV0dG9uIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWJ1dHRvbicpLCAvL9C60L3QvtC/0LrQsCDQvNC10L3Rj9C10Lwg0LDQstCw0YLQsNGAIFxuICBwbGFjZU5hbWVJbnB1dCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19pbnB1dF90eXBlX3RpdGxlJyksIC8v0J3QsNGF0L7QtNC40Lwg0L/QvtC70LUg0YTQvtGA0LzRiyAtINC90LDQt9Cy0LDQvdC40LVcbiAgbGlua0lucHV0IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0X3R5cGVfbGluaycpLCAvL9Cd0LDRhdC+0LTQuNC8INC/0L7Qu9C1INGE0L7RgNC80YsgLSDRgdGB0YvQu9C60LBcbiAgYWRkUGxhY2VCdXR0b24gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpLCAvL9GB0L7RhdGA0LDQvdGP0LXQvCAg0LrQvdC+0L/QutGDINC00L7QsdCw0LLQuNGC0Ywg0LzQtdGB0YLQviDQsiDQv9C10YDQtdC80LXQvdC90YPRji5cbiAgY2xvc2Vwb3B1cEFkZCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9hZGQtcGhvdG8nKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlLWJ1dHRvbicpLCAvL9C60L3QvtC/0LrQsCDQt9Cw0LrRgNGL0YLRjCDQv9C+0L/QsNC/INGBINGE0L7RgtC+XG4gIGZvcm1TYXZlQnV0dG9uIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZC1waG90bycpLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJykucXVlcnlTZWxlY3RvcignLmZvcm1fX3NhdmUtYnV0dG9uJyksXG4gIGxpa2VUZW1wbGF0ZUJ1dHRvbiA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50LXRlbXBsYXRlJyksXG4gIC8vIGxpa2VidXR0b24gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudC10ZW1wbGF0ZScpLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpLCAvL9C60L3QvtC/0LrQsCDQu9Cw0LnQutCwXG4gIGxpa2VidXR0b24gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1idXR0b24nKSwgLy/QutC90L7Qv9C60LAg0LvQsNC50LrQsFxuICBwcmV2aWV3SW1hZ2VQb3B1cCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1vcGVuLXBob3RvJyksXG4gIHByZXZpZXdJbWFnZVBvcHVwUGljdHVyZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1vcGVuLXBob3RvX19pbWFnZScpLFxuICBwcmV2aWV3SW1hZ2VQb3B1cENhcHRpb24gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAtb3Blbi1waG90b19fY2FwdGlvbicpXG4gIC8vIHByZXZpZXdJbWFnZVBvcHVwT3ZlcmxheXMgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKVxufTtcblxuY29uc3QgdmFsaWRhdGVPYmplY3QgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX3NhdmUtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2Zvcm1fX3NhdmUtYnV0dG9uX2Rpc2FibGUnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJyxcbiAgZXJyb3JDbGFzczogJ3BvcHVwX19lcnJvcl92aXNpYmxlJyxcbiAgZXJyb3JFbXB0eUlucHV0TWVzc2FnZTogJ9CS0Ysg0L/RgNC+0L/Rg9GB0YLQuNC70Lgg0Y3RgtC+INC/0L7Qu9C1LicsXG4gIGVycm9yRW1wdHlVcmxNZXNzYWdlOiAn0JLQstC10LTQuNGC0LUg0LDQtNGA0LXRgSDRgdCw0LnRgtCwLicsXG4gIGlucHV0VXJsQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2xpbmsnXG59O1xuXG4vLyBjb25zdCBwb3B1cHNPYmogPSB7IC8v0Y3QutGB0L/QvtGA0YIg0YPQtNCw0LvQuNC7XG4vLyAgIHBvcHVwczogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwJyksXG4vLyAgIGJ1dHRvbkNsb3NlUG9wdXA6ICdwb3B1cF9fY2xvc2UtYnV0dG9uJyxcbi8vICAgcG9wdXBPcGVuZWQ6ICdwb3B1cF9vcGVuZWQnXG4vLyAgIC8vIGJ1dHRvbkNsb3NlTW9kYWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyksXG4vLyB9O1xuXG5jb25zdCBwcm9maWxlRWRpdG9yUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZWRpdCcpOyAvL9GB0L7RhdGA0LDQvdC40Lsg0L/QvtC/0LDQvyDRgNC10LTQsNC60YLQuNGAINC/0YDQvtGE0LjQu9GPINCyINC/0LXRgNC10LzQtdC90L3Rg9GOXG5jb25zdCBuZXdQbGFjZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2FkZC1waG90bycpOyAvL9GB0L7RhdGA0LDQvdC40Lsg0L/QvtC/0LDQvyBBZGQtcGhvdG8g0LIg0L/QtdGA0LXQvNC10L3QvdGD0Y4gcG9wdXBcblxuY29uc3QgY29uZmlybURlbGV0ZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfY29uZmlybS1kZWxldGUnKTtcbmNvbnN0IHVwZGF0ZUF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3VwZGF0ZS1hdmF0YXInKTtcblxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuXG4gIGNvbnN0cnVjdG9yKHtuYW1lLCBsaW5rLCBvd25lciwgX2lkLCBsaWtlc30sIHtcbiAgICBvcGVuUHJldmlld0ltYWdlLFxuICAgIGhhbmRsZUNhcmREaXNsaWtlLFxuICAgIGhhbmRsZUNhcmRMaWtlLFxuICAgIGhhbmRsZURlbGV0ZUNhcmQsXG4gIH0sIHRlbXBsYXRlU2VsZWN0b3IsIHVzZXJJZCkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2ltYWdlID0gbGluaztcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgdGhpcy5fb3duZXIgPSBvd25lci5faWQ7XG4gICAgdGhpcy5fdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRlbXBsYXRlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSAnLmVsZW1lbnRfX2xpa2UtYnV0dG9uJzsgXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gJy5lbGVtZW50X19pbWFnZSc7IFxuICAgIHRoaXMuX2NhcmREZWxldGUgPSAnLmVsZW1lbnRfX2RlbGV0ZS1idXR0b24nO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9ICcuZWxlbWVudF9fZ3JvdXAtdGl0bGUnO1xuICAgIC8vIHRoaXMuX2xpa2VzID0gbGlrZXM7XG4gICAgdGhpcy5saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XG4gICAgdGhpcy5faGFuZGxlQ2FyZERpc2xpa2UgPSBoYW5kbGVDYXJkRGlzbGlrZTtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGFsdGUoKTtcbiAgICB0aGlzLl9pZEVsZW1lbnQgPSBfaWQ7XG4gICAgdGhpcy5fb3BlblByZXZpZXdJbWFnZSA9IG9wZW5QcmV2aWV3SW1hZ2U7XG4gICAgdGhpcy5fb3BlblBvcHVwQ29uZmlybURlbGV0ZSA9IGhhbmRsZURlbGV0ZUNhcmQ7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5faW1hZ2VFbGVtZW50KTtcbiAgICB0aGlzLl9jYXJkTGlrZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fbGlrZUJ1dHRvbik7XG4gIH1cblxuICBfZ2V0VGVtcGFsdGUoKSB7XG4gICAgLy8gY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGUpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2l0ZW0nKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgLy8gcmV0dXJuIG5ld0VsZW1lbnQ7IC8v0LXRgdC70Lgg0L3QtSDQsdGD0LTQtdGCINGA0LDQt9C90LjRhtGLINC/0L4g0LjRgtC+0LPRgyDQvtGB0YLQsNCy0LjRgtGMINGN0YLQvtGCINCy0LDRgNC40LDQvdGCXG4gICAgY29uc3QgbmV3RWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlLmNvbnRlbnQuY2hpbGRyZW5bMF0uY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBuZXdFbGVtZW50O1xuICB9XG5cbiAgX3NldENhcmRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX29wZW5QcmV2aWV3SW1hZ2UodGhpcy5fbmFtZSwgdGhpcy5faW1hZ2UpKTtcbiAgICB0aGlzLl9jYXJkTGlrZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2xpa2VCdXR0b24pLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG5cbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVsaWtlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hZGRsaWtlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmREZWxldGUpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9kZWxldGVDYXJkKCkpO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX3NldENhcmRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnVwZGF0ZUxpa2VzQ291bnRlcigpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnNyYyA9IHRoaXMuX2ltYWdlO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRUaXRsZSkudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVyKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkRGVsZXRlKS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19kZWxldGUtYnV0dG9uX2ludmlzaWJsZScpO1xuICAgIH1cblxuICAgIHRoaXMubGlrZXMuZm9yRWFjaCgobGlrZSkgPT4ge1xuICAgICAgaWYgKGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2xpa2VCdXR0b24pLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgdXBkYXRlTGlrZXNDb3VudGVyKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpLnRleHRDb250ZW50ID0gdGhpcy5saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfYWRkbGlrZSgpIHtcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzLl9pZEVsZW1lbnQpO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9saWtlQnV0dG9uKS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcbiAgfVxuXG4gIF9yZW1vdmVsaWtlKCkge1xuICAgIHRoaXMuX2hhbmRsZUNhcmREaXNsaWtlKHRoaXMuX2lkRWxlbWVudCk7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2xpa2VCdXR0b24pLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xuICB9XG5cbiAgX2RlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fb3BlblBvcHVwQ29uZmlybURlbGV0ZSh0aGlzLl9pZEVsZW1lbnQsIHRoaXMuX2VsZW1lbnQpO1xuICB9XG59XG4iLCIvLyBpbXBvcnQge3ZhbGlkYXRlT2JqZWN0fSBmcm9tICcuLi91dGlscy91aS5qcyc7Ly/Rg9C0XG5cbmV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGVPYmplY3QsIGZvcm1FbGVtZW50KSB7XG4gICAgLy8gdGhpcy5fdmFsaWRhdGVPYmplY3QgPSB2YWxpZGF0ZU9iamVjdDsgLy/Rg9C0XG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRlT2JqZWN0LmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHZhbGlkYXRlT2JqZWN0LnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGVPYmplY3QuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gdmFsaWRhdGVPYmplY3QuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0ZU9iamVjdC5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JFbXB0eUlucHV0TWVzc2FnZSA9IHZhbGlkYXRlT2JqZWN0LmVycm9yRW1wdHlJbnB1dE1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbXB0eVVybE1lc3NhZ2UgPSB2YWxpZGF0ZU9iamVjdC5lcnJvckVtcHR5VXJsTWVzc2FnZTtcbiAgICB0aGlzLl9pbnB1dFVybENsYXNzID0gdmFsaWRhdGVPYmplY3QuaW5wdXRVcmxDbGFzcztcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICB0aGlzLl9zZXREZWZhdWx0RXJyb3IoaW5wdXRFbGVtZW50KTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2lzVmFsaWQoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgY2xlYXJWYWxpZGF0aW9uSW5wdXQoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4gdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RGVmYXVsdEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlmIChpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuX2lucHV0VXJsQ2xhc3MpKSB7XG4gICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9lcnJvckVtcHR5VXJsTWVzc2FnZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWlucHV0RWxlbWVudC52YWx1ZS5sZW5ndGggPD0gMCkge1xuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fZXJyb3JFbXB0eUlucHV0TWVzc2FnZTtcbiAgICB9XG4gIH1cbn1cblxuIiwiaW1wb3J0IHtDYXJkfSBmcm9tIFwiLi9DYXJkLmpzXCI7XG5leHBvcnQgY2xhc3MgU2VjdGlvbiB7ICAvL9CjIFNlY3Rpb24g0L3QtdGCINGB0LLQvtC10Lkg0YDQsNC30LzQtdGC0LrQuC4g0J7QvSDQv9C+0LvRg9GH0LDQtdGCINGH0LXRgNC10Lcg0YTRg9C90LrRhtC40Y4t0LrQvtC70LHRjdC6INC4INCy0YHRgtCw0LLQu9GP0LXRgiDQtdGRINCyINC60L7QvdGC0LXQudC90LXRgC5cbiAgY29uc3RydWN0b3Ioe3JlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG5cbiAgLy8g0LzQtdGC0L7QtCwg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIuINCe0YLRgNC40YHQvtCy0LrQsCDQutCw0LbQtNC+0LPQviDQvtGC0LTQtdC70YzQvdC+0LPQviDRjdC70LXQvNC10L3RgtCwIC0gcmVuZGVyZXIuXG4gIHJlbmRlcmVyKGRhdGEpIHtcbiAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50LCBpbnNlcnRFbGVtZW50QWZ0ZXIpIHsgLy/Qv9GA0LjQvdC40LzQsNC10YIgRE9NLdGN0LvQtdC80LXQvdGCINC4INC00L7QsdCw0LLQu9GP0LXRgiDQtdCz0L4g0LIg0LrQvtC90YLQtdC50L3QtdGALlxuICAgIHRoaXMuX2NvbnRhaW5lcltpbnNlcnRFbGVtZW50QWZ0ZXJdKGVsZW1lbnQpO1xuICB9XG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHsgLy/QutC70LDRgWMg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINC+0YLQutGA0YvRgtC40LUg0Lgg0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAuXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cDsgLy/Qn9GA0LjQvdC40LzQsNC10YIg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgCDQtdC00LjQvdGB0YLQstC10L3QvdGL0Lkg0L/QsNGA0LDQvNC10YLRgCDigJQg0YHQtdC70LXQutGC0L7RgCDQv9C+0L/QsNC/0LAuXG4gICAgdGhpcy5fYnV0dG9uU3RhdHVzID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm1fX3NhdmUtYnV0dG9uJyk7XG4gIH1cblxuICBvcGVuKCkgeyAvL9C/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC00Ysgb3BlbiDQutC+0YLQvtGA0YvQuSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAuXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlUG9wdXBQcmVzc0VzYyk7XG4gIH1cblxuICBjbG9zZSgpIHsvL9C/0YPQsdC70LjRh9C90YvQuSDQvNC10YLQvtC0IGNsb3NlLCDQutC+0YLQvtGA0YvQuSDQvtGC0LLQtdGH0LDQtdGCINC30LAg0LfQsNC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAuXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2Nsb3NlUG9wdXBQcmVzc0VzYyk7XG4gIH1cblxuICBjaGFuZ2VCdXR0b25TdGF0dXMoaXNMb2FkaW5nKSB7IFxuICAgIGlmICghdGhpcy5fYnV0dG9uU3RhdHVzKSAgcmV0dXJuOyBcblxuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX2J1dHRvblN0YXR1cy50ZXh0Q29udGVudCA9IHRoaXMuX2xvYWRpbmdMYWJlbFRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvblN0YXR1cy50ZXh0Q29udGVudCA9IHRoaXMuX2xvYWRpbmdMYWJlbEZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIF9jbG9zZVBvcHVwUHJlc3NFc2MgPSAoZXZ0KSA9PiB7IC8v0L/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQg0LrQvtGC0L7RgNGL0Lkg0YHQvtC00LXRgNC20LjRgiDQu9C+0LPQuNC60YMg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0LrQu9Cw0LLQuNGI0LXQuSBFc2MuXG4gICAgaWYoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHsvLyDQv9GD0LHQu9C40YfQvdGL0Lkg0LzQtdGC0L7QtCAtINC00L7QsdCw0LLQu9GP0LXRgiDRgdC70YPRiNCw0YLQtdC70Ywg0LrQu9C40LrQsCDQuNC60L7QvdC60LUg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAuXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICBpZihldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfb3BlbmVkJykpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgaWYoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24nKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7IC8vINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDQtNC+0YfQtdGA0L3QtdCz0L4g0LrQu9Cw0YHRgdCwXG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgc3VwZXIocG9wdXApOyAvLyDQvtCx0YDQsNGJ0LDQtdC80YHRjyDQuiDQutC+0L3RgdGC0YDRg9C60YLQvtGA0YMg0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0L7QsdGK0LXQutGC0LBcbiAgICB0aGlzLl9waG90byA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1vcGVuLXBob3RvX19pbWFnZScpO1xuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLW9wZW4tcGhvdG9fX2NhcHRpb24nKTtcblxuICB9XG5cbiAgb3Blbih7bmFtZSwgbGlua30pIHtcbiAgICB0aGlzLl9waG90by5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX3Bob3RvLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuXG4iLCJpbXBvcnQge1BvcHVwfSBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG5cbiAgX2xvYWRpbmdMYWJlbFRydWUgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICBfbG9hZGluZ0xhYmVsRmFsc2UgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcblxuICBjb25zdHJ1Y3Rvcihwb3B1cCwge2hhbmRsZXJTdWJtaXR9KSB7XG4gICAgc3VwZXIocG9wdXApO1xuICAgIHRoaXMuX3N1Ym1pdEZvcm0gPSBoYW5kbGVyU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG5cbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl92YWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+ICh0aGlzLl92YWx1ZXNbaW5wdXQubmFtZV09IGlucHV0LnZhbHVlKSk7XG5cbiAgICByZXR1cm4gIHRoaXMuX3ZhbHVlcztcbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcblxuICBjb25zdHJ1Y3RvcihuYW1lLCBhYm91dCwgYXZhdGFyKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYWJvdXQgPSBhYm91dDtcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICBjb25zdCBuYW1lID0gdGhpcy5fbmFtZS50ZXh0Q29udGVudDtcbiAgICBjb25zdCBhYm91dCA9IHRoaXMuX2Fib3V0LnRleHRDb250ZW50O1xuICAgIGNvbnN0IGlkID0gdGhpcy5faWQ7XG4gICAgY29uc3QgYXZhdGFyID0gdGhpcy5fYXZhdGFyO1xuICAgIHJldHVybiB7bmFtZSwgYWJvdXQsIGlkLCBhdmF0YXIgfTtcbiAgfTtcblxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCwgaWQsKSB7XG4gICAgaWYgKG5hbWUpIHsgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7fVxuICAgIGlmIChhYm91dCkge3RoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7fVxuICAgIGlmIChpZCkge3RoaXMuX2lkID0gaWQ7fVxuICB9O1xuXG4gIHNldFVzZXJBdmF0YXIoYXZhdGFyKSB7IFxuICAgIGlmIChhdmF0YXIpIHt0aGlzLl9hdmF0YXIuc3JjID0gYXZhdGFyO31cbiAgfVxuXG4gIGdldFVzZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3Ioe2FkZHJlc3MsIGhlYWRlcnN9KSB7IFxyXG4gICAgICAgIHRoaXMuX2FkZHJlc3MgPSBhZGRyZXNzO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gICAgICAgIC8vIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHsg0LLQvtC30LzQvtC20L3QviDQv9C+0LzQtdC90Y/RgtGMINC90LDQtNC+INCx0YPQtNC10YIg0Lgg0YLQvtCz0LTQsCDQstGB0LUg0LTQsNC70LXQtSDQv9C+INGC0LXQutGB0YLRg1xyXG4gICAgICAgIC8vICAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gICAgICAgIC8vICAgICB0aGlzLl91cmwgPSBvcHRpb25zLnVybDtcclxuICAgIH1cclxuXHJcbi8v0J/QvtC70YPRh9C40LvQuCDQuNC90YTRgyDRgSDRgdC10YDQstC10YDQsCDQviDQv9GA0L7RhNC40LvQtSBcclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuLy/Qn9C+0LvRg9GH0LjQu9C4INC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LBcclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbi8v0JjQt9C80LXQvdC40LvQuCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQvdCwINGB0LXRgNCy0LXRgCDQviDQv9GA0L7RhNC40LvQtSAo0LTQvtCx0LDQstC40LvQuClcclxuICAgIGVkaXRVc2VyRGF0YShuYW1lLCBhYm91dCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICBhYm91dDogYWJvdXRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9hZGRyZXNzfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGxpbmtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuICAgIGNhcmREZWxldGUoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldExpa2UoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYWRkcmVzc30vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBdmF0YXIobGluaykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxpbmspXHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2FkZHJlc3N9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGxpbmssXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tSZXNwb25zZShyZXMpIHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1EZWxldGUgZXh0ZW5kcyBQb3B1cCB7XHJcblxyXG4gICAgX2xvYWRpbmdMYWJlbFRydWUgPSAn0KPQtNCw0LvQtdC90LjQtS4uLic7XHJcbiAgICBfbG9hZGluZ0xhYmVsRmFsc2UgPSAn0JTQsCc7XHJcblxyXG4gICAgY29uc3RydWN0b3IocG9wdXAsIHtzdWJtaXRIYW5kbGVyfSkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyID0gc3VibWl0SGFuZGxlcjtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKGNhcmRJZCwgZWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICAgICAgdGhpcy5jYXJkRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7IFxyXG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAvLyB0aGlzLmNoYW5nZURlbGV0ZUJ1dHRvblN0YXR1cygpO1xyXG4gICAgICAgICAgdGhpcy5fc3VibWl0SGFuZGxlcih0aGlzLl9jYXJkSWQpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgdmFsaWRhdGVPYmplY3QsIHVpLCBjb25maXJtRGVsZXRlUG9wdXAsIHVwZGF0ZUF2YXRhciB9IGZyb20gJy4uL3V0aWxzL3VpLmpzJztcbmltcG9ydCB7IENhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCB7U2VjdGlvbn0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtRGVsZXRlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtRGVsZXRlLmpzJztcbmltcG9ydCAnLi9pbmRleC5jc3MnOyBcblxuY29uc3QgdmFsaWRhdGVGb3JtRWRpdCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRlT2JqZWN0LCB1aS5mb3JtUHJvZmlsZUVkaXQpO1xudmFsaWRhdGVGb3JtRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XG5jb25zdCB2YWxpZGF0ZUZvcm1BZGQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0ZU9iamVjdCwgdWkuZm9ybUFkZEZvdG8pO1xudmFsaWRhdGVGb3JtQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IHZhbGlkYXRlRm9ybVVwZGF0ZUF2YXRhciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRlT2JqZWN0LCB1cGRhdGVBdmF0YXIpO1xudmFsaWRhdGVGb3JtVXBkYXRlQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgbmV3RWxlbWVudFByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpLFxuICAgIG5ld0VsZW1lbnRQcm9maWxlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190ZXh0JyksXG4gICAgbmV3QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpLFxuICAgIHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKG5ld0VsZW1lbnRQcm9maWxlVGl0bGUsIG5ld0VsZW1lbnRQcm9maWxlVGV4dCwgbmV3QXZhdGFyKTtcblxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSh1aS5wcmV2aWV3SW1hZ2VQb3B1cCk7XG5cbi8v0J/QvtC/0JDQvyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0odWkucHJvZmlsZUVkaXRvclBvcHVwLCB7XG4gIGhhbmRsZXJTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgcG9wdXBFZGl0UHJvZmlsZS5jaGFuZ2VCdXR0b25TdGF0dXModHJ1ZSk7XG4gICAgYXBpLmVkaXRVc2VyRGF0YShkYXRhLm5hbWUsIGRhdGEuam9iKVxuICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzdWx0Lm5hbWUsIHJlc3VsdC5hYm91dCk7XG4gICAgICAgIHBvcHVwRWRpdFByb2ZpbGUuY2xvc2UoKTtcbiAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8g0LfQtNC10YHRjCDQvNC+0LbQvdC+INC10YnQtSDQv9C+0LTRg9C80LDRgtGMINC4INC/0L7QtNGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMICjQvNC10YLQvtC0INC60Y3RgtGHINC4INGE0LDQudC90LDQu9C4IC0tINGB0L7RhdGA0LDQvdC40YLRjClcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHsgXG4gICAgICBwb3B1cEVkaXRQcm9maWxlLmNoYW5nZUJ1dHRvblN0YXR1cyhmYWxzZSk7XG4gIH0pO1xuICB9XG59KTtcblxuLy/Qv9C+0L/QkNC/INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHVpLm5ld1BsYWNlUG9wdXAsIHtcbiAgaGFuZGxlclN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBwb3B1cEFkZENhcmQuY2hhbmdlQnV0dG9uU3RhdHVzKHRydWUpO1xuICAgIGFwaS5hZGRDYXJkKGRhdGEudGl0bGUsIGRhdGEubGluaykgXG4gICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gY3JlYXRlQ2FyZChyZXN1bHQpXG4gICAgICAgIHNlY3Rpb24uYWRkSXRlbShlbGVtZW50LCAncHJlcGVuZCcpO1xuICAgICAgICBwb3B1cEFkZENhcmQuY2xvc2UoKTtcbiAgICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4geyBcbiAgICAgICAgcG9wdXBBZGRDYXJkLmNoYW5nZUJ1dHRvblN0YXR1cyhmYWxzZSk7XG4gICAgfSk7XG4gICAgfVxufSk7XG5cbmNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0odXBkYXRlQXZhdGFyLCB7XG4gIGhhbmRsZXJTdWJtaXQ6ICh7bGlua30pID0+IHtcbiAgICBwb3B1cFVwZGF0ZUF2YXRhci5jaGFuZ2VCdXR0b25TdGF0dXModHJ1ZSk7XG4gICAgYXBpLnVwZGF0ZUF2YXRhcihsaW5rKVxuICAgICAgLnRoZW4oKHthdmF0YXJ9KSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldFVzZXJBdmF0YXIoYXZhdGFyKTtcbiAgICAgICAgcG9wdXBVcGRhdGVBdmF0YXIuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHsgXG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLmNoYW5nZUJ1dHRvblN0YXR1cyhmYWxzZSk7XG4gICAgfSk7XG4gIH1cbn0pXG5cbi8v0J/QvtC/0LDQvyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbmNvbnN0IHBvcHVwRGVsZXRlID0gbmV3ICBQb3B1cFdpdGhDb25maXJtRGVsZXRlKGNvbmZpcm1EZWxldGVQb3B1cCwge1xuICBzdWJtaXRIYW5kbGVyOiAoY2FyZElkKSA9PiB7XG4gICAgcG9wdXBEZWxldGUuY2hhbmdlQnV0dG9uU3RhdHVzKHRydWUpOyAgXG4gICAgYXBpLmNhcmREZWxldGUoY2FyZElkKVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcG9wdXBEZWxldGUuY2FyZEVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgcG9wdXBEZWxldGUuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHsgXG4gICAgICAgIHBvcHVwRGVsZXRlLmNoYW5nZUJ1dHRvblN0YXR1cyhmYWxzZSk7XG4gICAgfSk7IFxuICB9XG59KVxuXG5mdW5jdGlvbiBvcGVuUG9wdXBBdmF0YXIoKSB7XG4gIHZhbGlkYXRlRm9ybVVwZGF0ZUF2YXRhci5jbGVhclZhbGlkYXRpb25JbnB1dCgpO1xuICBwb3B1cFVwZGF0ZUF2YXRhci5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5Qcm9wZmlsZVBvcHVwKCkge1xuICBjb25zdCBwcm9maWxlSW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIHVpLm5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVJbmZvLm5hbWU7XG4gIHVpLmpvYklucHV0LnZhbHVlID0gcHJvZmlsZUluZm8uYWJvdXQ7XG4gIHZhbGlkYXRlRm9ybUVkaXQuY2xlYXJWYWxpZGF0aW9uSW5wdXQoKTtcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XG59XG5cbmZ1bmN0aW9uIG9wZW5BZGRQbGFjZVBvcHVwKCkge1xuICB2YWxpZGF0ZUZvcm1BZGQuY2xlYXJWYWxpZGF0aW9uSW5wdXQoKTtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcbiAgLy8gdWkuZm9ybUFkZEZvdG8ucmVzZXQoKTtcbn1cblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XG4gICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQsICdhcHBlbmQnKTtcbiAgfSxcbn0sICcuZWxlbWVudCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcbiAgY29uc3QgdXNlcklkID0gdXNlckluZm8uZ2V0VXNlcklkKClcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGl0ZW0sIHtcbiAgICBvcGVuUHJldmlld0ltYWdlOiAobmFtZSwgbGluaykgPT4ge1xuICAgICAgcG9wdXBJbWFnZS5vcGVuKHtuYW1lLCBsaW5rfSk7XG4gICAgfSxcbiAgICBoYW5kbGVEZWxldGVDYXJkOiAoY2FyZElkLCBlbGVtKSA9PiB7XG4gICAgICBwb3B1cERlbGV0ZS5vcGVuKGNhcmRJZCwgZWxlbSk7XG4gICAgfSxcbiAgICBoYW5kbGVDYXJkTGlrZTogKGNhcmRJZCkgPT4ge1xuICAgICAgYXBpLnNldExpa2UoY2FyZElkKVxuICAgICAgICAudGhlbigoe2xpa2VzfSkgPT4ge1xuICAgICAgICAgIGNhcmQubGlrZXMgPSBsaWtlcztcbiAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzQ291bnRlcigpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBoYW5kbGVDYXJkRGlzbGlrZTogKGNhcmRJZCkgPT4ge1xuICAgICAgYXBpLnJlbW92ZUxpa2UoY2FyZElkKVxuICAgICAgICAudGhlbigoe2xpa2VzfSkgPT4ge1xuICAgICAgICAgIGNhcmQubGlrZXMgPSBsaWtlcztcbiAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzQ291bnRlcigpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gICAgfVxuICB9LCAnLmVsZW1lbnQtdGVtcGxhdGUnLCB1c2VySWQpXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpOyBcbn07XG5cbi8v0LLRi9C30L7QsiBBUEkg0YHQtdGA0LLQtdGA0LBcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBhZGRyZXNzOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNicsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnZDdiYTQ3OTItYzA0Ni00MDdlLWJkMDMtMGYzZjcyNTA4ZDUyJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pXG5cblByb21pc2UuYWxsKFsgYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKSBdKVxuLnRoZW4oKFt1c2VyRGF0YSwgaW5pdGlhbENhcmRzXSkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCwgdXNlckRhdGEuX2lkKTtcbiAgdXNlckluZm8uc2V0VXNlckF2YXRhcih1c2VyRGF0YS5hdmF0YXIpOyBcbiAgc2VjdGlvbi5yZW5kZXJlcihpbml0aWFsQ2FyZHMpO1xufSlcbi5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpXG5cblxudWkub3BlblByb2ZpbGVQb3B1cEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qcm9wZmlsZVBvcHVwKTtcbnVpLmFkZFBsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkFkZFBsYWNlUG9wdXApO1xudWkuYXZhdGFyRWRpdGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cEF2YXRhcik7XG5cbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwVXBkYXRlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4iXSwibmFtZXMiOlsidWkiLCJwcm9maWxlRWRpdG9yUG9wdXAiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvcGVuUHJvZmlsZVBvcHVwQnV0dG9uIiwiY2xpY2tPblRoZUZvcm1CdXR0b24iLCJmb3JtRWRpdFByb2ZpbGUiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInRpdGxlUHJvZmlsZSIsInRleHRQcm9maWxlIiwidGVtcGxhdGVFbGVtZW50IiwiY29udGVudCIsImluc2VydEVsZW1lbnRBZnRlciIsIm5ld1BsYWNlUG9wdXAiLCJmb3JtQWRkRm90byIsImZvcm1Qcm9maWxlRWRpdCIsImF2YXRhckVkaXRpbmdCdXR0b24iLCJwbGFjZU5hbWVJbnB1dCIsImxpbmtJbnB1dCIsImFkZFBsYWNlQnV0dG9uIiwiY2xvc2Vwb3B1cEFkZCIsImZvcm1TYXZlQnV0dG9uIiwibGlrZVRlbXBsYXRlQnV0dG9uIiwibGlrZWJ1dHRvbiIsInByZXZpZXdJbWFnZVBvcHVwIiwicHJldmlld0ltYWdlUG9wdXBQaWN0dXJlIiwicHJldmlld0ltYWdlUG9wdXBDYXB0aW9uIiwidmFsaWRhdGVPYmplY3QiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVycm9yRW1wdHlJbnB1dE1lc3NhZ2UiLCJlcnJvckVtcHR5VXJsTWVzc2FnZSIsImlucHV0VXJsQ2xhc3MiLCJjb25maXJtRGVsZXRlUG9wdXAiLCJ1cGRhdGVBdmF0YXIiLCJDYXJkIiwidGVtcGxhdGVTZWxlY3RvciIsInVzZXJJZCIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJfaWQiLCJsaWtlcyIsIm9wZW5QcmV2aWV3SW1hZ2UiLCJoYW5kbGVDYXJkRGlzbGlrZSIsImhhbmRsZUNhcmRMaWtlIiwiaGFuZGxlRGVsZXRlQ2FyZCIsInRoaXMiLCJfbmFtZSIsIl9pbWFnZSIsIl91c2VySWQiLCJfb3duZXIiLCJfdGVtcGxhdGUiLCJfbGlrZUJ1dHRvbiIsIl9pbWFnZUVsZW1lbnQiLCJfY2FyZERlbGV0ZSIsIl9jYXJkVGl0bGUiLCJfaGFuZGxlQ2FyZExpa2UiLCJfaGFuZGxlQ2FyZERpc2xpa2UiLCJfZWxlbWVudCIsIl9nZXRUZW1wYWx0ZSIsIl9pZEVsZW1lbnQiLCJfb3BlblByZXZpZXdJbWFnZSIsIl9vcGVuUG9wdXBDb25maXJtRGVsZXRlIiwiX2NhcmRFbGVtZW50IiwiX2NhcmRMaWtlRWxlbWVudCIsImNoaWxkcmVuIiwiY2xvbmVOb2RlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiX3JlbW92ZWxpa2UiLCJfYWRkbGlrZSIsIl9kZWxldGVDYXJkIiwiX3NldENhcmRMaXN0ZW5lcnMiLCJ1cGRhdGVMaWtlc0NvdW50ZXIiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImFkZCIsImZvckVhY2giLCJsaWtlIiwidG9nZ2xlIiwibGVuZ3RoIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25FbGVtZW50IiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JFbXB0eUlucHV0TWVzc2FnZSIsIl9lcnJvckVtcHR5VXJsTWVzc2FnZSIsIl9pbnB1dFVybENsYXNzIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJfc2V0RGVmYXVsdEVycm9yIiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9pc1ZhbGlkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2hhc0ludmFsaWRJbnB1dCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNvbWUiLCJ2YWx1ZSIsInZhbGlkYXRpb25NZXNzYWdlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfY29udGFpbmVyIiwiX3JlbmRlcmVyIiwiZGF0YSIsIml0ZW0iLCJlbGVtZW50IiwiUG9wdXAiLCJwb3B1cCIsImV2dCIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2J1dHRvblN0YXR1cyIsIl9jbG9zZVBvcHVwUHJlc3NFc2MiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNMb2FkaW5nIiwiX2xvYWRpbmdMYWJlbFRydWUiLCJfbG9hZGluZ0xhYmVsRmFsc2UiLCJ0YXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9waG90byIsIl90aXRsZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVyU3VibWl0IiwiX3N1Ym1pdEZvcm0iLCJfaW5wdXRzIiwiX3ZhbHVlcyIsImlucHV0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIlVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJfYWJvdXQiLCJfYXZhdGFyIiwiQXBpIiwiYWRkcmVzcyIsImhlYWRlcnMiLCJfYWRkcmVzcyIsIl9oZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJZCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJQb3B1cFdpdGhDb25maXJtRGVsZXRlIiwic3VibWl0SGFuZGxlciIsIl9zdWJtaXRIYW5kbGVyIiwiX2NhcmRJZCIsImNhcmRFbGVtZW50IiwidmFsaWRhdGVGb3JtRWRpdCIsImVuYWJsZVZhbGlkYXRpb24iLCJ2YWxpZGF0ZUZvcm1BZGQiLCJ2YWxpZGF0ZUZvcm1VcGRhdGVBdmF0YXIiLCJ1c2VySW5mbyIsInBvcHVwSW1hZ2UiLCJwb3B1cEVkaXRQcm9maWxlIiwiY2hhbmdlQnV0dG9uU3RhdHVzIiwiYXBpIiwiZWRpdFVzZXJEYXRhIiwiam9iIiwicmVzdWx0Iiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwicG9wdXBBZGRDYXJkIiwiYWRkQ2FyZCIsInRpdGxlIiwiY3JlYXRlQ2FyZCIsInNlY3Rpb24iLCJhZGRJdGVtIiwicG9wdXBVcGRhdGVBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwicG9wdXBEZWxldGUiLCJjYXJkRGVsZXRlIiwiY2FyZCIsImdldFVzZXJJZCIsIm9wZW4iLCJlbGVtIiwic2V0TGlrZSIsInJlbW92ZUxpa2UiLCJnZW5lcmF0ZUNhcmQiLCJhdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsImluaXRpYWxDYXJkcyIsImVycm9yIiwicHJvZmlsZUluZm8iLCJjbGVhclZhbGlkYXRpb25JbnB1dCIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==